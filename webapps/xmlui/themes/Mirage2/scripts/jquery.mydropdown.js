(function(c){var a=new Array();var b=new Array();var d=0;jQuery.fn.MyDropdown=function(){a[a.length]=1;b[a.length]=0;var e=a.length-1;c(this).attr("idx",e);c(this).each(function(){var k=c(this);var m=k.find("option");var j;var l="";b[e]=m.length;for(var g=0;g!=m.length;g++){j=m[g].value;txt=m[g].text;l+='<li v="'+j+'">'+txt}l=m.length>0?'<ul class="advMenuUL advMenuUL'+e+'">'+l+"</ul>":"";var f='<div class="genHeader genHeader'+e+'">SELECT</div>';k.hide();k.after(f+l);var h=parseInt(c(".genHeader").css("height"));c(".advMenuUL"+e).addClass("menuHeader").addClass("menuHeader"+e);c(".genHeader"+e).click(function(){var i=c(k).val();c(".advMenuUL li").each(function(){var n=c(this).attr("v");if(n==i){this.className="sel";return false}});c(".menuHeader"+e).css("height",b[e]*h);if(c(".genHeader"+e).width()+32>c(".advMenuUL"+e).width()){c(".advMenuUL"+e).css("width",c(".genHeader"+e).width()+32)}c(".menuHeader"+e).toggle()}).mouseleave(function(){c(".menuHeader"+e).css("height",h+"px");d=setTimeout(function(){c(".menuHeader"+e).hide()},10)});c(".menuHeader"+e).mouseenter(function(){c(this).css("height",b[e]*h);clearTimeout(d)}).mouseleave(function(){c(this).css("height",h+"px");c(this).hide()});c(".genHeader"+e).mouseenter(function(){c(this).addClass("genHeaderSel")}).mouseleave(function(){c(this).removeClass("genHeaderSel")}).mousedown(function(){return false});c(".advMenuUL"+e+" li").click(function(){c(".genHeader"+e).html("<span>"+c(this).text()+"</span>");var i=c(this).attr("v");c(k).children().each(function(){if(c(this).val()==i){this.selected=true;k.trigger("change");return false}});c(".menuHeader"+e).hide()}).mouseover(function(){c(".advMenuUL li").each(function(){this.className=""})});c(".advMenuUL").hide();c(k).children().each(function(){if(this.selected){var i=c(this).val();var n=c(this).text();c(".advMenuUL li").each(function(){var o=c(this).attr("v");if(o==i){c(".genHeader"+e).html(n);return false}})}})})}})(jQuery);