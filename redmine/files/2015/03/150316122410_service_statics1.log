En el log del ESB aparece el error:


TID: [0] [ESB] [2015-03-13 12:47:21,048] ERROR {org.wso2.carbon.databridge.agent.thrift.AsyncDataPublisher} -  Error occurred while finding | defining the event {org.wso2.carbon.databridge.agent.thrift.AsyncDataPublisher}
org.wso2.carbon.databridge.agent.thrift.exception.AgentException: Cannot define type {"streamId":"bam_service_data_publisher:1.0.0","name":"bam_service_data_publisher","version":"1.0.0","nickName":"ServiceDataAgent","description":"Publish service statistics events","metaData":[{"name":"request_url","type":"STRING"},{"name":"remote_address","type":"STRING"},{"name":"content_type","type":"STRING"},{"name":"user_agent","type":"STRING"},{"name":"host","type":"STRING"},{"name":"referer","type":"STRING"}],"payloadData":[{"name":"service_name","type":"STRING"},{"name":"operation_name","type":"STRING"},{"name":"timestamp","type":"LONG"},{"name":"response_time","type":"LONG"},{"name":"request_count","type":"INT"},{"name":"response_count","type":"INT"},{"name":"fault_count","type":"INT"}]}
    at org.wso2.carbon.databridge.agent.thrift.internal.publisher.client.EventPublisher.defineStream(EventPublisher.java:234)
    at org.wso2.carbon.databridge.agent.thrift.DataPublisher.defineStream(DataPublisher.java:306)
    at org.wso2.carbon.databridge.agent.thrift.AsyncDataPublisher$DataPublishWorker.run(AsyncDataPublisher.java:701)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
Caused by: org.wso2.carbon.databridge.agent.thrift.exception.EventPublisherException: TException
    at org.wso2.carbon.databridge.agent.thrift.internal.publisher.client.ThriftEventPublisher.defineStream(ThriftEventPublisher.java:120)
    at org.wso2.carbon.databridge.agent.thrift.internal.publisher.client.EventPublisher.defineStream(EventPublisher.java:222)
    ... 8 more
Caused by: org.apache.thrift.transport.TTransportException
    at org.apache.thrift.transport.TIOStreamTransport.read(TIOStreamTransport.java:132)
    at org.apache.thrift.transport.TTransport.readAll(TTransport.java:84)
    at org.apache.thrift.protocol.TBinaryProtocol.readAll(TBinaryProtocol.java:378)
    at org.apache.thrift.protocol.TBinaryProtocol.readI32(TBinaryProtocol.java:297)
    at org.apache.thrift.protocol.TBinaryProtocol.readMessageBegin(TBinaryProtocol.java:204)
    at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:69)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Client.recv_defineStream(ThriftEventTransmissionService.java:80)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Client.defineStream(ThriftEventTransmissionService.java:66)
    at org.wso2.carbon.databridge.agent.thrift.internal.publisher.client.ThriftEventPublisher.defineStream(ThriftEventPublisher.java:109)


En el BAM:


TID: [0] [BAM] [2015-03-13 12:47:21,047] ERROR {org.apache.thrift.server.TThreadPoolServer} -  Error occurred during processing of message. {org.apache.thrift.server.TThreadPoolServer}
java.lang.UnsupportedOperationException
    at java.util.AbstractList.add(AbstractList.java:131)
    at java.util.AbstractList.add(AbstractList.java:91)
    at me.prettyprint.cassandra.service.ThriftCfDef.addColumnDefinition(ThriftCfDef.java:359)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.addColumnDefinitionsToColumnFamily(CassandraConnector.java:464)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.addFilteredColumnDefinitionsToColumnFamily(CassandraConnector.java:501)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.definedStream(CassandraConnector.java:775)
    at org.wso2.carbon.databridge.datasink.cassandra.subscriber.BAMEventSubscriber.definedStream(BAMEventSubscriber.java:35)
    at org.wso2.carbon.databridge.core.internal.EventDispatcher.defineStream(EventDispatcher.java:102)
    at org.wso2.carbon.databridge.core.DataBridge.defineStream(DataBridge.java:84)
    at org.wso2.carbon.databridge.receiver.thrift.service.ThriftEventTransmissionServiceImpl.defineStream(ThriftEventTransmissionServiceImpl.java:49)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Processor$defineStream.getResult(ThriftEventTransmissionService.java:440)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Processor$defineStream.getResult(ThriftEventTransmissionService.java:428)
    at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)
    at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)
    at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
TID: [0] [BAM] [2015-03-13 12:47:21,047] ERROR {org.apache.thrift.server.TThreadPoolServer} -  Error occurred during processing of message. {org.apache.thrift.server.TThreadPoolServer}
java.lang.UnsupportedOperationException
    at java.util.AbstractList.add(AbstractList.java:131)
    at java.util.AbstractList.add(AbstractList.java:91)
    at me.prettyprint.cassandra.service.ThriftCfDef.addColumnDefinition(ThriftCfDef.java:359)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.addColumnDefinitionsToColumnFamily(CassandraConnector.java:464)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.addFilteredColumnDefinitionsToColumnFamily(CassandraConnector.java:501)
    at org.wso2.carbon.databridge.persistence.cassandra.datastore.CassandraConnector.definedStream(CassandraConnector.java:775)
    at org.wso2.carbon.databridge.datasink.cassandra.subscriber.BAMEventSubscriber.definedStream(BAMEventSubscriber.java:35)
    at org.wso2.carbon.databridge.core.internal.EventDispatcher.defineStream(EventDispatcher.java:102)
    at org.wso2.carbon.databridge.core.DataBridge.defineStream(DataBridge.java:84)
    at org.wso2.carbon.databridge.receiver.thrift.service.ThriftEventTransmissionServiceImpl.defineStream(ThriftEventTransmissionServiceImpl.java:49)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Processor$defineStream.getResult(ThriftEventTransmissionService.java:440)
    at org.wso2.carbon.databridge.commons.thrift.service.general.ThriftEventTransmissionService$Processor$defineStream.getResult(ThriftEventTransmissionService.java:428)
    at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)
    at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)
    at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662) 
